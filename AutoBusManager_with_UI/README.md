## 一、工程说明文档.pdf

开发语言：C++

GUI 库：Qt

开发环境：编译器：MinGW 5.3.0

软件安装平台：操作系统：Windows 10 x64

Qt 版本：Qt 5.9.0 32bit

界面设计器：Qt Creator 4.3.0 (Community)

## 二、动画版概要设计报告.pdf

版本号：Group-04-Design-v1.0（每次修订时改变编号）

编制时间：2022 年 7 月 1 日 

编制人员：孙懿 梁晨锐 闫晨浩 

### 1. 用户界面设计 
  
![image](https://user-images.githubusercontent.com/94790748/193443289-d52bf498-8edd-4a18-b0dc-35dfd2eb4ffe.png)
  
动画版程序为单个窗口。窗口主体采用半透明化设计，背景为仿 Windows Vista 系统的渐变绿色填充，轮廓呈现较为现代的圆角矩形。 
  
窗口主体的控件大致可以分为三部分：标题栏、退出按钮和多选项卡页面。 
  
* 标题栏显示程序 Logo、程序名字、以及版本号。 
  
* 退出按钮用于退出程序。 
  
* 多选项卡页面把不同的功能集成在不同的选项卡，使界面较为整齐规范。 
  
其中，多选项卡页面是最主要的，三个选项卡展示如下： 

![image](https://user-images.githubusercontent.com/94790748/193443559-1246568d-c98d-46c8-a9d1-9a6c0a92d269.png)
  
首先是开始选项卡。开始选项卡分为动画区、输出区、输入区和控制区。 
  
* 动画区面板包含一条圆角矩形模拟轨道，一辆同心圆点模拟公交车以及图例。当初始化完成后，站点编号也会显示，每个站点对应的请求状态也会显示为不同颜色的菱形。运行时，公交车会做出相应运动。 

* 输出区以一个五行两列的表格的形式呈现。每一步运行的状态都会在这里显示。 
  
* 输入区包含一个下拉菜单、一个文本框和一个提交按钮。涉及某站点的请求指令会由此读入。 
  
* 控制区有四个按钮：自动连续运行按钮、暂停自动运行按钮、手动单步运行按钮、停止按钮。自动连续运行按钮可以实现按照设定速度自动运行，在遇到大量连续 clock 指令的时候很方便；暂停自动运行按钮则可以暂停自动运行，从而添加请求；手动单步运行按钮适合 clock 不连续的时候，方便准确读入命令；停止按钮用于停止调度，同时清空状态、重新初始化系统。 
  
  ![image](https://user-images.githubusercontent.com/94790748/193443574-9775c5aa-dd97-4c1c-ac8e-2fded0c1b83d.png)
  
然后是设置选项卡。设置选项卡分为配置参数设置区、动画设置区。 
  
* 配置参数设置区可以手动设置参数，也可以读入.dic 文件内的参数。若通过读文件的方式读取，则读取完成后，对应的参数会显示，且.dic 文件的目录也会显示。配置完成之后点击“保存并初始化”按钮进行初始化。 
  
* 动画设置区可以设置“自动连续运行模式”中公交车的运行速度。 
  
  ![image](https://user-images.githubusercontent.com/94790748/193443583-2d10e297-5001-46cb-9150-435873abaefe.png)
  
最后是关于选项卡。内含应用程序信息，以及开发者照片（左：梁晨锐，右：闫晨浩，拍摄者：孙懿） 

**（班级打错了，应该是2021211313）**
 
### 2. 高层数据结构设计：略，与核心版完全相同，具体参见核心版概要设计报告

### 3. 系统模块划分 

![image](https://user-images.githubusercontent.com/94790748/193443552-679e6505-1e76-4e85-a8b1-3717a6267f84.png)
  
* AutoBusManager_with_UI.pro 是 Qt 的项目文件,包含了工程项目的源文件、头文件以及资源文件，还包含了一些必要的配置参数。 
  
* mainwindow.c 是动画版的核心，一切与界面有关的操作（如窗体细节的设计，控件的创建、初始化与编辑等）都在其中完成。mainwindow.c 也起到调用核心函数、连接前端与后端的作用。mainwindow.c 的头文件是 mainwindow.h。 
  
* main 函数是动画版程序的主函数，只起创建窗体对象的作用。 
  
* mainwindow.ui 是窗体设计器的源文件，通过简单的拖曳方式即可创建所见即所得的界面。拖曳方式创建的界面将被 Qt 自动生成 xml 格式的代码，而 xml 格式的代码又会被 Qt 自动转换为相应的.h 文件,这样 C++编译器才能识别并实例化图形，实现界面。 
  
* Resources 里的.qrc 文件，是资源文件。程序用到的图片、音乐等文件，都存放在这里方便调用。 
  
* 其他头文件以及源文件的作用与核心版完全相同，在核心版设计概要里已经详细阐述，故略。 
 
### 4. 核心算法设计：略，在核心版设计概要里已经详细阐述，具体参见核心版概要设计报告
